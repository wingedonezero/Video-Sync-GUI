[workspace]
name = "video-sync-gui"
version = "1.0.0"
description = "Video Sync GUI - Subtitle synchronization tool"
channels = ["conda-forge"]
platforms = ["linux-64"]

[tasks]
start = "python main.py"

[dependencies]
python = ">=3.13,<3.14"

# Core GUI Framework (conda-forge)
pyside6 = "*"

# Scientific Computing & Analysis (conda-forge)
numpy = "*"
scipy = "*"
scikit-learn = "*"

# Audio Analysis (conda-forge)
librosa = "*"
numba = ">=0.61.0"
llvmlite = ">=0.43.0"

# XML Processing (conda-forge)
lxml = "*"

# Video/Audio Processing (conda-forge)
av = "*"

# Image Processing (conda-forge)
pillow = "*"
opencv = "*"

[pypi-dependencies]
# Packages only available on PyPI
pysubs2 = "*"
pyenchant = "*"
imagehash = "*"
scenedetect = { version = "*", extras = ["opencv"] }
VideoTimestamps = "*"
ffms2 = "*"
VapourSynth = "*"
webrtcvad-wheels = "*"

# Optional AI audio features (install with: pixi install -e ai-nvidia or pixi install -e ai-cpu)
[feature.ai-nvidia.dependencies]
pytorch = "*"
pytorch-cuda = "*"

[feature.ai-nvidia.pypi-dependencies]
demucs = "*"

[feature.ai-cpu.dependencies]
pytorch = "*"

[feature.ai-cpu.pypi-dependencies]
demucs = "*"

[environments]
default = { solve-group = "default" }
ai-nvidia = { features = ["ai-nvidia"], solve-group = "default" }
ai-cpu = { features = ["ai-cpu"], solve-group = "default" }

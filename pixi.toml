[workspace]
name = "video-sync-gui"
version = "1.0.0"
description = "Video Sync GUI - Subtitle synchronization tool"
channels = ["conda-forge"]
platforms = ["linux-64", "osx-64", "osx-arm64", "win-64"]

[tasks]
start = "python main.py"

[dependencies]
python = ">=3.13,<3.14"

# Core GUI Framework
pyside6 = "*"

# Scientific Computing & Analysis
numpy = "*"
scipy = "*"
scikit-learn = "*"

# Audio Analysis - REQUIRED for correlation, onset detection, DTW, spectrogram analysis
librosa = "*"
numba = ">=0.61.0"
llvmlite = ">=0.43.0"

# Subtitle Processing
pysubs2 = "*"

# Spell Checking
pyenchant = "*"

# XML Processing
lxml = "*"

# Video/Audio Processing
av = "*"

# Image Processing
pillow = "*"

# Frame Matching & Scene Detection
imagehash = "*"
opencv = "*"
scenedetect = "*"

[pypi-dependencies]
# Packages not available or better from PyPI
VideoTimestamps = "*"
ffms2 = "*"
VapourSynth = "*"
webrtcvad-wheels = "*"

# Optional AI audio features (install with: pixi install -e ai-nvidia or pixi install -e ai-cpu)
[feature.ai-nvidia.dependencies]
pytorch = "*"
pytorch-cuda = "*"

[feature.ai-nvidia.pypi-dependencies]
demucs = "*"

[feature.ai-cpu.dependencies]
pytorch = "*"

[feature.ai-cpu.pypi-dependencies]
demucs = "*"

[environments]
default = { solve-group = "default" }
ai-nvidia = { features = ["ai-nvidia"], solve-group = "default" }
ai-cpu = { features = ["ai-cpu"], solve-group = "default" }
